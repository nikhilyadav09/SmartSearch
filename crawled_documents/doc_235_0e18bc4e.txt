In information retrieval, Okapi BM25 (BM is an abbreviation of best matching) is a ranking function used by search engines to estimate the relevance of documents to a given search query. It is based on the probabilistic retrieval framework developed in the 1970s and 1980s by Stephen E. Robertson, Karen Spärck Jones, and others. The name of the actual ranking function is BM25. The fuller name, Okapi BM25, includes the name of the first system to use it, which was the Okapi information retrieval system, implemented at London's City University[1] in the 1980s and 1990s. BM25 and its newer variants, e.g. BM25F (a version of BM25 that can take document structure and anchor text into account), represent TF-IDF-like retrieval functions used in document retrieval.[2] The ranking function BM25 is a bag-of-words retrieval function that ranks a set of documents based on the query terms appearing in each document, regardless of their proximity within the document. It is a family of scoring functions with slightly different components and parameters. One of the most prominent instantiations of the function is as follows. Given a query Q, containing keywords q 1 , . . . , q n {\displaystyle q_{1},...,q_{n}} , the BM25 score of a document D is: where f ( q i , D ) {\displaystyle f(q_{i},D)} is the number of times that the keyword q i {\displaystyle q_{i}} occurs in the document D, | D | {\displaystyle |D|} is the length of the document D in words, and avgdl is the average document length in the text collection from which documents are drawn. k 1 {\displaystyle k_{1}} and b are free parameters, usually chosen, in absence of an advanced optimization, as k 1 ∈ [ 1.2 , 2.0 ] {\displaystyle k_{1}\in [1.2,2.0]} and b = 0.75 {\displaystyle b=0.75} .[3] IDF ( q i ) {\displaystyle {\text{IDF}}(q_{i})} is the IDF (inverse document frequency) weight of the query term q i {\displaystyle q_{i}} . It is usually computed as: where N is the total number of documents in the collection, and n ( q i ) {\displaystyle n(q_{i})} is the number of documents containing q i {\displaystyle q_{i}} . There are several interpretations for IDF and slight variations on its formula. In the original BM25 derivation, the IDF component is derived from the Binary Independence Model. IDF information theoretic interpretation Here is an interpretation from information theory. Suppose a query term q {\displaystyle q} appears in n ( q ) {\displaystyle n(q)} documents. Then a randomly picked document D {\displaystyle D} will contain the term with probability n ( q ) N {\displaystyle {\frac {n(q)}{N}}} (where N {\displaystyle N} is again the cardinality of the set of documents in the collection). Therefore, the information content of the message " D {\displaystyle D} contains q {\displaystyle q} " is: Now suppose we have two query terms q 1 {\displaystyle q_{1}} and q 2 {\displaystyle q_{2}} . If the two terms occur in documents entirely independently of each other, then the probability of seeing both q 1 {\displaystyle q_{1}} and q 2 {\displaystyle q_{2}} in a randomly picked document D {\displaystyle D} is: and the information content of such an event is: With a small variation, this is exactly what is expressed by the IDF component of BM25. Modifications References General references External links